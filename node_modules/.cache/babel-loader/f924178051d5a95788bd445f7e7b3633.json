{"ast":null,"code":"import axios from \"axios\";\nexport const LOGIN_USER_LOADING = \"LOGIN_USER_LOADING\";\nexport const LOGIN_USER_SUCCESS = \"LOGIN_USER_SUCCESS\";\nexport const LOGIN_USER_FAILED = \"LOGIN_USER_FAILED\";\nexport const LOGOUT_USER = \"LOGOUT_USER\";\nexport const logoutClearLogin = () => ({\n  type: LOGOUT_USER\n});\nexport const loginUserLoading = () => ({\n  type: LOGIN_USER_LOADING\n});\nexport const loginUserSuccess = data => ({\n  type: LOGIN_USER_SUCCESS,\n  payload: data\n});\nexport const loginUserFailure = error => ({\n  type: LOGIN_USER_FAILED,\n  payload: error\n});\nexport function loginUser(user, history) {\n  return function (dispatch) {\n    dispatch(loginUserLoading());\n    return axios.post('localhost:4000/api/user/login', user).then(response => {\n      dispatch(loginUserSuccess(response.data));\n      sessionStorage.setItem(\"token\", response.data.token);\n      history.push('/home');\n    }).catch(error => {\n      console.log(error);\n      dispatch(loginUserFailure(error.response.data.message));\n    });\n  };\n}\nexport function logoutUser() {\n  return function (dispatch) {\n    sessionStorage.clear();\n    localStorage.clear();\n    dispatch(logoutClearLogin());\n    dispatch(logoutClearPlaid());\n    dispatch(logoutClearBlocks());\n  };\n}","map":{"version":3,"sources":["/Users/loremenius/Documents/Git/familiy-wishlist/src/redux/actions/LoginRegisterActions.js"],"names":["axios","LOGIN_USER_LOADING","LOGIN_USER_SUCCESS","LOGIN_USER_FAILED","LOGOUT_USER","logoutClearLogin","type","loginUserLoading","loginUserSuccess","data","payload","loginUserFailure","error","loginUser","user","history","dispatch","post","then","response","sessionStorage","setItem","token","push","catch","console","log","message","logoutUser","clear","localStorage","logoutClearPlaid","logoutClearBlocks"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AAEP,OAAO,MAAMC,WAAW,GAAG,aAApB;AAEP,OAAO,MAAMC,gBAAgB,GAAG,OAAO;AAAEC,EAAAA,IAAI,EAAEF;AAAR,CAAP,CAAzB;AAEP,OAAO,MAAMG,gBAAgB,GAAG,OAAO;AAAED,EAAAA,IAAI,EAAEL;AAAR,CAAP,CAAzB;AACP,OAAO,MAAMO,gBAAgB,GAAGC,IAAI,KAAK;AACrCH,EAAAA,IAAI,EAAEJ,kBAD+B;AAErCQ,EAAAA,OAAO,EAAED;AAF4B,CAAL,CAA7B;AAIP,OAAO,MAAME,gBAAgB,GAAGC,KAAK,KAAK;AACtCN,EAAAA,IAAI,EAAEH,iBADgC;AAEtCO,EAAAA,OAAO,EAAEE;AAF6B,CAAL,CAA9B;AAKP,OAAO,SAASC,SAAT,CAAmBC,IAAnB,EAAwBC,OAAxB,EAAgC;AACnC,SAAO,UAASC,QAAT,EAAmB;AACtBA,IAAAA,QAAQ,CAACT,gBAAgB,EAAjB,CAAR;AACA,WAAOP,KAAK,CAACiB,IAAN,CAAW,+BAAX,EAA2CH,IAA3C,EACFI,IADE,CACGC,QAAQ,IAAE;AACZH,MAAAA,QAAQ,CAACR,gBAAgB,CAACW,QAAQ,CAACV,IAAV,CAAjB,CAAR;AACAW,MAAAA,cAAc,CAACC,OAAf,CAAuB,OAAvB,EAA+BF,QAAQ,CAACV,IAAT,CAAca,KAA7C;AACAP,MAAAA,OAAO,CAACQ,IAAR,CAAa,OAAb;AACH,KALE,EAMFC,KANE,CAMIZ,KAAK,IAAE;AACVa,MAAAA,OAAO,CAACC,GAAR,CAAYd,KAAZ;AACAI,MAAAA,QAAQ,CAACL,gBAAgB,CAAEC,KAAK,CAACO,QAAN,CAAeV,IAAf,CAAoBkB,OAAtB,CAAjB,CAAR;AACH,KATE,CAAP;AAUH,GAZD;AAaH;AAED,OAAO,SAASC,UAAT,GAAqB;AACxB,SAAO,UAASZ,QAAT,EAAmB;AACtBI,IAAAA,cAAc,CAACS,KAAf;AACAC,IAAAA,YAAY,CAACD,KAAb;AACAb,IAAAA,QAAQ,CAACX,gBAAgB,EAAjB,CAAR;AACAW,IAAAA,QAAQ,CAACe,gBAAgB,EAAjB,CAAR;AACAf,IAAAA,QAAQ,CAACgB,iBAAiB,EAAlB,CAAR;AAEH,GAPD;AAQH","sourcesContent":["import axios from \"axios\";\n\nexport const LOGIN_USER_LOADING = \"LOGIN_USER_LOADING\";\nexport const LOGIN_USER_SUCCESS = \"LOGIN_USER_SUCCESS\";\nexport const LOGIN_USER_FAILED = \"LOGIN_USER_FAILED\";\n\nexport const LOGOUT_USER = \"LOGOUT_USER\";\n\nexport const logoutClearLogin = () => ({ type: LOGOUT_USER });\n\nexport const loginUserLoading = () => ({ type: LOGIN_USER_LOADING });\nexport const loginUserSuccess = data => ({\n    type: LOGIN_USER_SUCCESS,\n    payload: data\n  });\nexport const loginUserFailure = error => ({\n    type: LOGIN_USER_FAILED,\n    payload: error\n});\n\nexport function loginUser(user,history){\n    return function(dispatch) {\n        dispatch(loginUserLoading());\n        return axios.post('localhost:4000/api/user/login',user)\n            .then(response=>{\n                dispatch(loginUserSuccess(response.data));\n                sessionStorage.setItem(\"token\",response.data.token);\n                history.push('/home')\n            })\n            .catch(error=>{\n                console.log(error);\n                dispatch(loginUserFailure( error.response.data.message)); \n            })\n    }\n}\n\nexport function logoutUser(){\n    return function(dispatch) {\n        sessionStorage.clear();\n        localStorage.clear()\n        dispatch(logoutClearLogin());\n        dispatch(logoutClearPlaid());\n        dispatch(logoutClearBlocks());\n\n    }\n}"]},"metadata":{},"sourceType":"module"}