{"ast":null,"code":"import _defineProperty from \"/Users/loremenius/Documents/Git/familiy-wishlist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/loremenius/Documents/Git/familiy-wishlist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/loremenius/Documents/Git/familiy-wishlist/src/components/wishlist/gifts/EditGift.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { editGift, removeGift } from \"../../../redux/actions/WishlistActions\";\nimport { axiosWithAuth } from \"../../axiosWithAuth\";\n\nconst EditGift = ({\n  match,\n  user_id,\n  history,\n  editGift,\n  removeGift\n}) => {\n  const _useState = useState({\n    name: '',\n    description: '',\n    gift_url: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        gift = _useState2[0],\n        setGift = _useState2[1];\n\n  function onChange(e) {\n    e.preventDefault();\n    setGift(_objectSpread({}, gift, {\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function onSubmit(e) {\n    e.preventDefault();\n    editGift(user_id, match.params.gift_id, gift, match.params.family, history);\n  }\n\n  function onClickRemove(e) {\n    e.preventDefault();\n    removeGift(user_id, match.params.gift_id, match.params.family, history);\n  }\n\n  function onCancel(e) {\n    e.preventDefault();\n    setGift({\n      name: '',\n      description: '',\n      gift_url: ''\n    });\n    history.push(\"/wishlist/\".concat(match.params.family, \"/\").concat(user_id));\n  }\n\n  useEffect(() => {\n    axiosWithAuth().get(\"http://localhost:4000/api/user/wishlist/list/\".concat(match.params.gift_id)).then(res => {\n      if (res.data.user_id !== user_id) {\n        history.push('/home');\n      }\n\n      setGift(_objectSpread({}, gift, {}, res.data));\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"editForm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Gift name (required)\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: gift.name,\n    name: \"name\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Gift description (optional)\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    value: gift.description,\n    name: \"description\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Gift URL/Link (optional)\"), React.createElement(\"textarea\", {\n    type: \"text\",\n    value: gift.gift_url,\n    name: \"gift_url\",\n    onChange: onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Update Gift\"), React.createElement(\"button\", {\n    onClick: onClickRemove,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Remove Gift\"), React.createElement(\"button\", {\n    onClick: onCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Cancel\"))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    user_id: state.loginReducer.user.user_id\n  };\n}\n\nexport default connect(mapStateToProps, {\n  editGift,\n  removeGift\n})(EditGift);","map":{"version":3,"sources":["/Users/loremenius/Documents/Git/familiy-wishlist/src/components/wishlist/gifts/EditGift.js"],"names":["React","useState","useEffect","connect","editGift","removeGift","axiosWithAuth","EditGift","match","user_id","history","name","description","gift_url","gift","setGift","onChange","e","preventDefault","target","value","onSubmit","params","gift_id","family","onClickRemove","onCancel","push","get","then","res","data","catch","error","console","log","mapStateToProps","state","loginReducer","user"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { editGift, removeGift } from \"../../../redux/actions/WishlistActions\";\nimport { axiosWithAuth } from \"../../axiosWithAuth\";\n\nconst EditGift = ({ match, user_id, history, editGift, removeGift }) =>{\n    const [gift, setGift] = useState({name:'', description:'', gift_url:''});\n    function onChange(e){\n        e.preventDefault();\n        setGift({\n            ...gift,\n            [e.target.name]:e.target.value\n        })\n    }\n\n    function onSubmit(e){\n        e.preventDefault();\n        editGift(user_id, match.params.gift_id, gift, match.params.family, history);\n    }\n\n    function onClickRemove(e){\n        e.preventDefault();\n        removeGift(user_id, match.params.gift_id, match.params.family, history);\n    }\n\n    function onCancel(e){\n        e.preventDefault();\n        setGift({ name:'', description:'', gift_url:'' });\n        history.push(`/wishlist/${match.params.family}/${user_id}`)\n    }\n\n    useEffect(()=>{\n\n        axiosWithAuth().get(`http://localhost:4000/api/user/wishlist/list/${match.params.gift_id}`)\n            .then(res=>{\n\n                if(res.data.user_id !== user_id){\n                    history.push('/home');\n                }\n\n                setGift({\n                    ...gift,\n                    ...res.data\n                });\n            })\n            .catch(error=>{\n                console.log(error);\n            });\n\n    },[]);\n\n    return(\n        <div className=\"editForm\">\n            <form>\n                <label>\n                    <p>Gift name (required)</p>\n                    <input \n                        type=\"text\" \n                        value = {gift.name} \n                        name=\"name\" \n                        onChange={onChange}\n                    />\n                </label>\n                <label>\n                    <p>Gift description (optional)</p>\n                    <textarea \n                        type=\"text\" \n                        value = {gift.description} \n                        name=\"description\" \n                        onChange={onChange}\n                    />\n                </label>\n                <label>\n                    <p>Gift URL/Link (optional)</p>\n                    <textarea type=\"text\" \n                        value = {gift.gift_url} \n                        name=\"gift_url\" \n                        onChange={onChange}\n                    />\n                </label>\n                <div className=\"buttons\">\n                    <button onClick={onSubmit}>Update Gift</button>\n                    <button onClick={onClickRemove}>Remove Gift</button>\n                    <button onClick={onCancel}>Cancel</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user_id:state.loginReducer.user.user_id\n    };\n  }\n\nexport default connect(mapStateToProps, { editGift, removeGift })(EditGift);"]},"metadata":{},"sourceType":"module"}